# auto-generated by grc.converter

id: nrsc5_l2_encoder
label: Layer 2 encoder
category: '[NRSC-5]'

parameters:
-   id: num_progs
    label: Programs
    dtype: int
    default: 1
-   id: first_prog
    label: First prog. no.
    dtype: int
    default: 0
-   id: size
    label: Frame size
    dtype: int
    default: 146176
    options: [146176, 109312, 72448, 30000, 24000, 9216, 4608, 3750, 2304]
-   id: data_bytes
    label: Data bytes
    dtype: int
    default: 0
-   id: num_programs
    label: Programs
    dtype: int
    default: 1
    options: [1, 2, 3, 4, 5, 6, 7, 8]
-   id: program0
    label: Program 0 type
    dtype: enum
    options: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 29, 30, 31, 65, 76]
    option_labels: ["None", "News", "Information", "Sports", "Talk", "Rock", "Classic Rock", "Adult Hits", "Soft Rock", "Top 40", "Country", "Oldies", "Soft", "Nostalgia", "Jazz", "Classical", "Rhythm and Blues", "Soft Rhythm and Blues", "Foreign Language", "Religious Music", "Religious Talk", "Personality", "Public", "College", "Spanish Talk", "Spanish Music", "Hip-Hop", "Weather", "Emergency Test", "Emergency", "Traffic", "Special Reading Services"]
    default: 1
    hide: part
-   id: program1
    label: Program 1 type
    dtype: enum
    options: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 29, 30, 31, 65, 76]
    option_labels: ["None", "News", "Information", "Sports", "Talk", "Rock", "Classic Rock", "Adult Hits", "Soft Rock", "Top 40", "Country", "Oldies", "Soft", "Nostalgia", "Jazz", "Classical", "Rhythm and Blues", "Soft Rhythm and Blues", "Foreign Language", "Religious Music", "Religious Talk", "Personality", "Public", "College", "Spanish Talk", "Spanish Music", "Hip-Hop", "Weather", "Emergency Test", "Emergency", "Traffic", "Special Reading Services"]
    default: 1
    hide: ${ ('part' if num_programs >= 2 else 'all') }
-   id: program2
    label: Program 2 type
    dtype: enum
    options: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 29, 30, 31, 65, 76]
    option_labels: ["None", "News", "Information", "Sports", "Talk", "Rock", "Classic Rock", "Adult Hits", "Soft Rock", "Top 40", "Country", "Oldies", "Soft", "Nostalgia", "Jazz", "Classical", "Rhythm and Blues", "Soft Rhythm and Blues", "Foreign Language", "Religious Music", "Religious Talk", "Personality", "Public", "College", "Spanish Talk", "Spanish Music", "Hip-Hop", "Weather", "Emergency Test", "Emergency", "Traffic", "Special Reading Services"]
    default: 1
    hide: ${ ('part' if num_programs >= 3 else 'all') }
-   id: program3
    label: Program 3 type
    dtype: enum
    options: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 29, 30, 31, 65, 76]
    option_labels: ["None", "News", "Information", "Sports", "Talk", "Rock", "Classic Rock", "Adult Hits", "Soft Rock", "Top 40", "Country", "Oldies", "Soft", "Nostalgia", "Jazz", "Classical", "Rhythm and Blues", "Soft Rhythm and Blues", "Foreign Language", "Religious Music", "Religious Talk", "Personality", "Public", "College", "Spanish Talk", "Spanish Music", "Hip-Hop", "Weather", "Emergency Test", "Emergency", "Traffic", "Special Reading Services"]
    default: 1
    hide: ${ ('part' if num_programs >= 4 else 'all') }
-   id: program4
    label: Program 4 type
    dtype: enum
    options: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 29, 30, 31, 65, 76]
    option_labels: ["None", "News", "Information", "Sports", "Talk", "Rock", "Classic Rock", "Adult Hits", "Soft Rock", "Top 40", "Country", "Oldies", "Soft", "Nostalgia", "Jazz", "Classical", "Rhythm and Blues", "Soft Rhythm and Blues", "Foreign Language", "Religious Music", "Religious Talk", "Personality", "Public", "College", "Spanish Talk", "Spanish Music", "Hip-Hop", "Weather", "Emergency Test", "Emergency", "Traffic", "Special Reading Services"]
    default: 1
    hide: ${ ('part' if num_programs >= 5 else 'all') }
-   id: program5
    label: Program 5 type
    dtype: enum
    options: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 29, 30, 31, 65, 76]
    option_labels: ["None", "News", "Information", "Sports", "Talk", "Rock", "Classic Rock", "Adult Hits", "Soft Rock", "Top 40", "Country", "Oldies", "Soft", "Nostalgia", "Jazz", "Classical", "Rhythm and Blues", "Soft Rhythm and Blues", "Foreign Language", "Religious Music", "Religious Talk", "Personality", "Public", "College", "Spanish Talk", "Spanish Music", "Hip-Hop", "Weather", "Emergency Test", "Emergency", "Traffic", "Special Reading Services"]
    default: 1
    hide: ${ ('part' if num_programs >= 6 else 'all') }
-   id: program6
    label: Program 6 type
    dtype: enum
    options: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 29, 30, 31, 65, 76]
    option_labels: ["None", "News", "Information", "Sports", "Talk", "Rock", "Classic Rock", "Adult Hits", "Soft Rock", "Top 40", "Country", "Oldies", "Soft", "Nostalgia", "Jazz", "Classical", "Rhythm and Blues", "Soft Rhythm and Blues", "Foreign Language", "Religious Music", "Religious Talk", "Personality", "Public", "College", "Spanish Talk", "Spanish Music", "Hip-Hop", "Weather", "Emergency Test", "Emergency", "Traffic", "Special Reading Services"]
    default: 1
    hide: ${ ('part' if num_programs >= 7 else 'all') }
-   id: program7
    label: Program 7 type
    dtype: enum
    options: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 29, 30, 31, 65, 76]
    option_labels: ["None", "News", "Information", "Sports", "Talk", "Rock", "Classic Rock", "Adult Hits", "Soft Rock", "Top 40", "Country", "Oldies", "Soft", "Nostalgia", "Jazz", "Classical", "Rhythm and Blues", "Soft Rhythm and Blues", "Foreign Language", "Religious Music", "Religious Talk", "Personality", "Public", "College", "Spanish Talk", "Spanish Music", "Hip-Hop", "Weather", "Emergency Test", "Emergency", "Traffic", "Special Reading Services"]
    default: 1
    hide: ${ ('part' if num_programs >= 8 else 'all') }

inputs:
-   label: hdc
    domain: stream
    dtype: byte
    multiplicity: ${ num_progs }
-   label: psd
    domain: stream
    dtype: byte
    multiplicity: ${ num_progs }
-   domain: message
    id: aas
    optional: true

outputs:
-   domain: stream
    dtype: byte
    vlen: ${ size }
-   domain: message
    id: ready
    optional: true
asserts:
- ${ 0 <= first_prog <= 7 }
- ${ 1 <= num_progs <= 8 - first_prog }
- ${ data_bytes < (size - 22) // 8 }

templates:
    imports: import nrsc5
    make: nrsc5.l2_encoder(${num_progs}, ${first_prog}, ${size}, ${data_bytes}, program_types=[${program0}${ ', '+program1 if int(num_programs) >= 2 else '' }${ ', '+program2 if int(num_programs) >= 3 else '' }${ ', '+program3 if int(num_programs) >= 4 else '' }${ ', '+program4 if int(num_programs) >= 5 else '' }${ ', '+program5 if int(num_programs) >= 6 else '' }${ ', '+program6 if int(num_programs) >= 7 else '' }${ ', '+program7 if int(num_programs) >= 8 else '' }])

file_format: 1
